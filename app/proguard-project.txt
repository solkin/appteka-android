# Common
-dontwarn android.support.v7.**
-keep class android.support.v7.** { *; }
-keep interface android.support.v7.** { *; }

-keep class android.support.design.widget.** { *; }
-keep interface android.support.design.widget.** { *; }
-dontwarn android.support.design.**

# Glide
-keep public enum com.bumptech.glide.load.resource.bitmap.ImageHeaderParser$** {
  **[] $VALUES;
  public *;
}

# Adapter items and API responses
-keep class * implements com.tomclaw.appsend.util.adapter.Item { *; }
-keep class * implements com.tomclaw.appsend.dto.ApiResponse { *; }

# Parcelable (including kotlinx.parcelize support)
-keep class * implements android.os.Parcelable { *; }
-keepnames class * implements android.os.Parcelable
-keep @kotlinx.parcelize.Parcelize class * { *; }
-keepnames @kotlinx.parcelize.Parcelize class *

# Enums (required for Parcelable and Gson serialization)
-keepclassmembers enum * {
    public static **[] values();
    public static ** valueOf(java.lang.String);
}

# Gson
-keepattributes Signature
-keepattributes *Annotation*
-keep class com.google.gson.** { *; }
-keep class * implements com.google.gson.TypeAdapterFactory
-keep class * implements com.google.gson.JsonSerializer
-keep class * implements com.google.gson.JsonDeserializer

# Keep classes with @SerializedName annotations
-keepclassmembers,allowobfuscation class * {
    @com.google.gson.annotations.SerializedName <fields>;
}

# Keep Gson model classes marked with @GsonModel annotation
-keep @com.tomclaw.appsend.util.GsonModel class * { *; }

# Retrofit
-dontnote retrofit2.Platform
-keepattributes Exceptions
-dontwarn javax.annotation.**
-dontwarn org.xmlpull.v1.**
-dontwarn okhttp3.**
-dontwarn okio.**
